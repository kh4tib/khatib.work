RewriteEngine on

# ----------------------------------------------------------------------
# Redirect to Error Page
# ----------------------------------------------------------------------

ErrorDocument 404 /404.html

RewriteBase / 
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteRule ^(.*)$ /404.html [NC,L]

# ----------------------------------------------------------------------
# Force https
# ----------------------------------------------------------------------

RewriteCond %{HTTPS} !on
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}

# ----------------------------------------------------------------------
# Remove www
# ----------------------------------------------------------------------

RewriteCond %{HTTP_HOST} !^khatib.work$ [NC]
RewriteRule ^(.*)$ https://khatib.work/$1 [L,R=301]

# ----------------------------------------------------------------------
# Remove file extensions from URL's
# ----------------------------------------------------------------------

RewriteRule ^index$ index.html [L]
RewriteRule ^404$ 404.html [L]

